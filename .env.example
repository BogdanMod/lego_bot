# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here

# Telegram Webhook Security
# Secret token для валидации webhook запросов от Telegram
# Сгенерируйте случайную строку: openssl rand -hex 32
# Или: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
TELEGRAM_SECRET_TOKEN=your-secret-token-here

# API URL для webhook (production)
# Используется командой /setup_webhook для настройки webhook
API_URL=https://lego-bot-core.vercel.app

# Database Configuration
# For Vercel serverless, consider using connection pooling service like:
# - Supabase (built-in pooling)
# - Neon (serverless-friendly)
# - PgBouncer (add ?pgbouncer=true to connection string)
# Database connections will retry up to 5 times with exponential backoff
# PostgreSQL: required (app will exit if unavailable)
# Redis: optional (app will continue without caching if unavailable)
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/dialogue_constructor
REDIS_URL=redis://localhost:6379
POSTGRES_PORT=5433
REDIS_PORT=6379

# Encryption Key (минимум 32 символа для AES-256)
# Сгенерируйте случайный ключ: openssl rand -base64 32
# Или: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_KEY=E4fAhUyp2RRUl9XjpjXwQw69OMtapnAxbh8KAZP7STM

# Server Configuration
PORT=3000
ROUTER_PORT=3001

# Mini App Configuration
# URL для Telegram Mini App (используется в Menu Button и inline кнопках)
MINI_APP_URL=https://lego-bot-miniapp.vercel.app
DEFAULT_MINI_APP_URL=https://lego-bot-miniapp.vercel.app

# Admin allowlist (optional)
# Comma-separated Telegram user IDs allowed to run /setup_miniapp globally (without chat_id)
# If unset/empty, /setup_miniapp will apply per-chat menu button only (for the current chat)
ADMIN_USER_IDS=123456789

# Router Configuration (для webhook)
# Для production используйте реальный домен: https://your-domain.com
ROUTER_URL=http://localhost:3001
WEBHOOK_URL=http://localhost:3001

# Environment
NODE_ENV=development
